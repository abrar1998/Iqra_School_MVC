@model IEnumerable<SchoolProj.Models.DTO.NoticeDTO>

@{
    ViewData["Title"] = "ViewAllNotifications";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var notifications = Model.Where(x => x.Ncid == "1").OrderByDescending(n=>n.NDate).ToList();
    var events = Model.Where(x => x.Ncid == "2").OrderByDescending(n => n.NDate).ToList();
    var news = Model.Where(x => x.Ncid == "3").OrderByDescending(n => n.NDate).ToList();
}

@* Page Header Start *@
<div class="container-fluid bg-breadcrumb" style="height: 300px; background: linear-gradient(rgba(19, 53, 123, 0.5), rgba(19, 53, 123, 0.5)), url('/Images/iqrabg.jpg'); background-size: cover; background-position: center;">
    <div class="container text-center py-5" style="max-width: 900px;">
        <h3 class="text-white mb-5" style="
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
            text-shadow: 3px 3px 8px rgba(0, 0, 0, 0.7);
            text-transform: uppercase;
            letter-spacing: 3px;">
            Notice Section
        </h3>
    </div>
</div>
@* Page Header End *@

<div class="container py-5">
    <!-- Stylish Announcements Heading -->
    <div class="text-center mb-5">
        <h1 class="fw-bold text-uppercase" style="color: #007bff;">Announcements</h1>
        <p class="text-success">Stay updated with the latest notifications, events, and news!</p>
    </div>

    <div class="row g-4">
        <!-- Notifications -->
        <div class="col-lg-4 col-md-6">
            <div class="card shadow-lg" style="min-height: 500px;">
                <div class="card-header bg-primary text-white text-center">
                    <h5>Notifications</h5>
                </div>
                <div class="card-body scrollable-div">
                    @if (notifications.Any())
                    {
                        foreach (var item in notifications)
                        {
                            <div class="d-flex mb-4">
                                <img src="@item.ThumbNail" class="img-thumbnail rounded me-3" style="width: 80px; height: 80px;" alt="Notification Image">
                                <div>
                                    @* <h6>@item.Title</h6> *@
                                    <h6><a href="@Url.Action("GetNotice", "Home", new { id = item.Nid })" class="text-primary text-decoration-none">@item.Title</a></h6>

                                    <p class="text-muted"><small>@Convert.ToDateTime(item.NDate).ToString("dd MMM yyyy")</small></p>
                                </div>
                            </div>
                        }
                    }
                    else
                    {
                        <p class="text-center text-muted">No notifications available.</p>
                    }
                </div>
            </div>
        </div>

        <!-- Events -->
        <div class="col-lg-4 col-md-6">
            <div class="card shadow-lg" style="min-height: 500px;">
                <div class="card-header bg-success text-white text-center">
                    <h5>Events</h5>
                </div>
                <div class="card-body scrollable-div">
                    @if (events.Any())
                    {
                        foreach (var item in events)
                        {
                            <div class="d-flex mb-4">
                                <img src="@item.ThumbNail" class="img-thumbnail rounded me-3" style="width: 80px; height: 80px;" alt="Event Image">
                                <div>
                                    <h6><a href="@Url.Action("GetNotice", "Home", new { id = item.Nid })" class="text-primary text-decoration-none">@item.Title</a></h6>
                                    <p class="text-muted"><small>@Convert.ToDateTime(item.NDate).ToString("dd MMM yyyy")</small></p>
                                </div>
                            </div>
                        }
                    }
                    else
                    {
                        <p class="text-center text-muted">No events available.</p>
                    }
                </div>
            </div>
        </div>

        <!-- Latest News -->
        <div class="col-lg-4 col-md-6">
            <div class="card shadow-lg" style="min-height: 500px;">
                <div class="card-header bg-warning text-dark text-center">
                    <h5>Latest News</h5>
                </div>
                <div class="card-body scrollable-div">
                    @if (news.Any())
                    {
                        foreach (var item in news)
                        {
                            <div class="d-flex mb-4">
                                <img src="@item.ThumbNail" class="img-thumbnail rounded me-3" style="width: 80px; height: 80px;" alt="News Image">
                                <div>
                                    <h6><a href="@Url.Action("GetNotice", "Home", new { id = item.Nid })" class="text-primary text-decoration-none">@item.Title</a></h6>
                                    <p class="text-muted"><small>@Convert.ToDateTime(item.NDate).ToString("dd MMM yyyy")</small></p>
                                </div>
                            </div>
                        }
                    }
                    else
                    {
                        <p class="text-center text-muted">No news available.</p>
                    }
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .scrollable-div {
        max-height: 400px;
        overflow-y: auto;
        padding: 10px;
    }

        .scrollable-div::-webkit-scrollbar {
            width: 6px;
        }

        .scrollable-div::-webkit-scrollbar-thumb {
            background: #ccc;
            border-radius: 10px;
        }

            .scrollable-div::-webkit-scrollbar-thumb:hover {
                background: #999;
            }
</style>
